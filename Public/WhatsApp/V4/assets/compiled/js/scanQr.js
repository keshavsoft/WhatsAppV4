import"./modulepreload-polyfill.js";let c=e=>{e.currentTarget.send("GetQrCode")};const s="sendMessage.html";let d=e=>{let t=e.currentTarget;try{let o=JSON.parse(e.data);switch(o==null?void 0:o.Type){case"wAProfile":i({inData:o.res,inWs:t});break;case"QrCodeGenerated":S({inQrReceived:o.res});break;default:break}}catch(o){}};const i=({inData:e,inWs:t})=>{e===void 0?t.send("GetQrCode"):(clearInterval(KSIntervalId),KSIntervalId=null,location.href=s)},S=({inQrReceived:e})=>{e!==void 0&&(KSQrRec=e,u({inQrCode:e}))};let u=({inQrCode:e})=>{let t=document.getElementById("CanvasId");const o=t.dataset.QrCode;if(e===o)return;t.height=1,t.width=1,t.style.visibility="hidden",t.dataset.QrCode=e,t.dataset.CreatedDate=Date.now();let a={};a.text=e,a.bcid="qrcode",a.scaleX=2,a.scaleY=2,a.rotate="N";try{bwipjs.toCanvas(t,a),t.style.visibility="visible"}catch(l){console.log("error : ",l);return}},n=window.location.host,r;location.protocol==="https:"&&(r="wss://"+n);location.protocol==="http:"&&(r="ws://"+n);let b=()=>{w()},w=()=>{webSocket=new WebSocket(r),webSocket.onopen=c,webSocket.onmessage=d,webSocket.onclose=function(e){}};b();const f=()=>{const e=()=>{webSocket.send("WAProfile")};KSIntervalId||(KSIntervalId=setInterval(e,1e3))};f();
